version: 1
frontend:
  phases:
    preBuild:
      commands:
        - npm ci --cache .npm --prefer-offline
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: dist
    files:
      - '**/*'
  cache:
    paths:
      - .npm/**/*

# Variáveis VITE_* (ex.: VITE_API, VITE_APP_HOST) devem ser configuradas em
# Amplify Console > App settings > Environment variables, para estarem disponíveis no build.
# Redirect SPA: use redirects.json na raiz ou em Hosting > Redirects and rewrites
# a regra: /<<*>> -> /index.html com status 200 (Rewrite).
